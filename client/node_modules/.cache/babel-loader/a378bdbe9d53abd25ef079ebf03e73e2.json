{"ast":null,"code":"var _jsxFileName = \"/home/harsh_jaiswal/Desktop/new/client/src/components/NavBar/NavBar.js\";\nimport React from 'react';\nimport { AppBar, Toolbar, useScrollTrigger, Typography, useMediaQuery, useTheme, Button } from '@material-ui/core';\nimport { Events, scrollSpy, animateScroll } from 'react-scroll';\nimport useStyles from './NavBarTheme';\nimport { useRecoilValue, useRecoilState } from 'recoil';\nimport { profileState } from '../../atoms';\nimport Tabs from './Tabs';\nimport Drawer from './Drawer';\nimport { useHistory } from 'react-router-dom';\nimport { authState } from '../../atoms';\nfunction ElevationScroll(props) {\n  const {\n    children\n  } = props;\n  const trigger = useScrollTrigger({\n    disableHysteresis: true,\n    threshold: 0\n  });\n  return React.cloneElement(children, {\n    elevation: trigger ? 4 : 0\n  });\n}\nexport default function NavBar({\n  editPage = false\n}) {\n  const classes = useStyles();\n  const profile = useRecoilValue(profileState);\n  const theme = useTheme();\n  const removeTabs = useMediaQuery(theme.breakpoints.down('md'));\n  const history = useHistory();\n  const [auth, setAuth] = useRecoilState(authState);\n\n  // This is for detrmining the active tab\n  const [value, setValue] = React.useState(0);\n  const handleChange = (_event, newValue) => {\n    setValue(newValue);\n  };\n  React.useEffect(() => {\n    Events.scrollEvent.register('begin', function (to, element) {\n      // console.log(to, arguments);\n    });\n    Events.scrollEvent.register('end', function (to, element) {\n      // console.log(to, arguments);\n      if (to === 'home') {\n        setValue(0);\n      } else if (to === 'about') {\n        setValue(1);\n      } else if (to === 'profile') {\n        setValue(2);\n      } else if (to === 'projects') {\n        setValue(3);\n      } else if (to === 'contact') {\n        setValue(4);\n      }\n    });\n    scrollSpy.update();\n    return () => {\n      Events.scrollEvent.remove('begin');\n      Events.scrollEvent.remove('end');\n    };\n  }, []);\n\n  // This is determined from the active class of the tab by using Link of react-scroll\n  const handleSetActive = to => {\n    if (to === 'home') {\n      setValue(0);\n    } else if (to === 'about') {\n      setValue(1);\n    } else if (to === 'profile') {\n      setValue(2);\n    } else if (to === 'projects') {\n      setValue(3);\n    } else if (to === 'contact') {\n      setValue(4);\n    }\n  };\n  const scrollTop = () => {\n    animateScroll.scrollToTop({\n      duration: 500,\n      smooth: 'easeInQuad'\n    });\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    setAuth({\n      token: localStorage.getItem('token'),\n      isAuthenticated: false,\n      user: null\n    });\n    history.push('/login');\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ElevationScroll, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AppBar, {\n    position: \"sticky\",\n    className: classes.appBar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h4\",\n    className: classes.name,\n    noWrap: true,\n    onClick: scrollTop,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, editPage ? auth.user.name : profile.user.name), editPage ? /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    onClick: handleLogout,\n    className: classes.logOutButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 15\n    }\n  }, \"Log Out\") : !removeTabs ? /*#__PURE__*/React.createElement(Tabs, {\n    value: value,\n    handleChange: handleChange,\n    handleSetActive: handleSetActive,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 15\n    }\n  }) : /*#__PURE__*/React.createElement(Drawer, {\n    value: value,\n    handleChange: handleChange,\n    handleSetActive: handleSetActive,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 15\n    }\n  })))));\n}","map":{"version":3,"names":["React","AppBar","Toolbar","useScrollTrigger","Typography","useMediaQuery","useTheme","Button","Events","scrollSpy","animateScroll","useStyles","useRecoilValue","useRecoilState","profileState","Tabs","Drawer","useHistory","authState","ElevationScroll","props","children","trigger","disableHysteresis","threshold","cloneElement","elevation","NavBar","editPage","classes","profile","theme","removeTabs","breakpoints","down","history","auth","setAuth","value","setValue","useState","handleChange","_event","newValue","useEffect","scrollEvent","register","to","element","update","remove","handleSetActive","scrollTop","scrollToTop","duration","smooth","handleLogout","localStorage","removeItem","token","getItem","isAuthenticated","user","push","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","position","className","appBar","variant","name","noWrap","onClick","logOutButton"],"sources":["/home/harsh_jaiswal/Desktop/new/client/src/components/NavBar/NavBar.js"],"sourcesContent":["import React from 'react';\nimport {\n  AppBar,\n  Toolbar,\n  useScrollTrigger,\n  Typography,\n  useMediaQuery,\n  useTheme,\n  Button,\n} from '@material-ui/core';\nimport { Events, scrollSpy, animateScroll } from 'react-scroll';\nimport useStyles from './NavBarTheme';\nimport { useRecoilValue, useRecoilState } from 'recoil';\nimport { profileState } from '../../atoms';\nimport Tabs from './Tabs';\nimport Drawer from './Drawer';\nimport { useHistory } from 'react-router-dom';\nimport { authState } from '../../atoms';\n\nfunction ElevationScroll(props) {\n  const { children } = props;\n  const trigger = useScrollTrigger({\n    disableHysteresis: true,\n    threshold: 0,\n  });\n\n  return React.cloneElement(children, {\n    elevation: trigger ? 4 : 0,\n  });\n}\n\nexport default function NavBar({ editPage = false }) {\n  const classes = useStyles();\n  const profile = useRecoilValue(profileState);\n  const theme = useTheme();\n  const removeTabs = useMediaQuery(theme.breakpoints.down('md'));\n  const history = useHistory();\n  const [auth, setAuth] = useRecoilState(authState);\n\n  // This is for detrmining the active tab\n  const [value, setValue] = React.useState(0);\n  const handleChange = (_event, newValue) => {\n    setValue(newValue);\n  };\n\n  React.useEffect(() => {\n    Events.scrollEvent.register('begin', function (to, element) {\n      // console.log(to, arguments);\n    });\n\n    Events.scrollEvent.register('end', function (to, element) {\n      // console.log(to, arguments);\n      if (to === 'home') {\n        setValue(0);\n      } else if (to === 'about') {\n        setValue(1);\n      } else if (to === 'profile') {\n        setValue(2);\n      } else if (to === 'projects') {\n        setValue(3);\n      } else if (to === 'contact') {\n        setValue(4);\n      }\n    });\n\n    scrollSpy.update();\n\n    return () => {\n      Events.scrollEvent.remove('begin');\n      Events.scrollEvent.remove('end');\n    };\n  }, []);\n\n  // This is determined from the active class of the tab by using Link of react-scroll\n  const handleSetActive = to => {\n    if (to === 'home') {\n      setValue(0);\n    } else if (to === 'about') {\n      setValue(1);\n    } else if (to === 'profile') {\n      setValue(2);\n    } else if (to === 'projects') {\n      setValue(3);\n    } else if (to === 'contact') {\n      setValue(4);\n    }\n  };\n\n  const scrollTop = () => {\n    animateScroll.scrollToTop({\n      duration: 500,\n      smooth: 'easeInQuad',\n    });\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    setAuth({\n      token: localStorage.getItem('token'),\n      isAuthenticated: false,\n      user: null,\n    });\n    history.push('/login');\n  };\n\n  return (\n    <React.Fragment>\n      <ElevationScroll>\n        <AppBar position='sticky' className={classes.appBar}>\n          <Toolbar>\n            <Typography\n              variant='h4'\n              className={classes.name}\n              noWrap\n              onClick={scrollTop}\n            >\n              {editPage ? auth.user.name : profile.user.name}\n              {/* {`${profile && profile.user ? profile.user.name : ''}`} */}\n            </Typography>\n            {/* Showing logout button on edit page */}\n            {editPage ? (\n              <Button\n                variant='contained'\n                onClick={handleLogout}\n                className={classes.logOutButton}\n              >\n                Log Out\n              </Button>\n            ) : !removeTabs ? (\n              <Tabs\n                value={value}\n                handleChange={handleChange}\n                handleSetActive={handleSetActive}\n              />\n            ) : (\n              <Drawer\n                value={value}\n                handleChange={handleChange}\n                handleSetActive={handleSetActive}\n              />\n            )}\n          </Toolbar>\n        </AppBar>\n      </ElevationScroll>\n    </React.Fragment>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}