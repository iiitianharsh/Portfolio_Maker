{"ast":null,"code":"var _jsxFileName = \"/home/harsh_jaiswal/Desktop/new/client/src/App.js\";\nimport React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport ReactGA from 'react-ga';\nimport User from './components/User/User';\nimport Register from './components/Register/Register';\nimport Login from './components/Login/Login';\nimport EditProfile from './components/EditProfile/EditProfile';\nimport PrivateRoute from './PrivateRoute';\n\n// Authentication\nimport { useRecoilState } from 'recoil';\nimport { authState } from './atoms';\nimport setAuthToken from './utils/setAuthToken';\nimport getUserFromToken from './services/getUserFromToken';\nReactGA.initialize('UA-172930718-1');\nReactGA.pageview(window.location.pathname + window.location.search);\nexport default function App() {\n  const [auth, setAuth] = useRecoilState(authState);\n  React.useEffect(() => {\n    if (localStorage.getItem('token')) {\n      // redirection is also handled in register an login\n\n      (async () => {\n        const token = localStorage.getItem('token');\n        setAuthToken(token);\n        const user = auth.user ? auth.user : await getUserFromToken();\n        setAuth({\n          ...auth,\n          token,\n          isAuthenticated: true,\n          user\n        });\n      })();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/user/:id\",\n    render: props => /*#__PURE__*/React.createElement(User, Object.assign({}, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 54\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/register\",\n    render: props => /*#__PURE__*/React.createElement(Register, Object.assign({}, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 54\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/login\",\n    render: props => /*#__PURE__*/React.createElement(Login, Object.assign({}, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 51\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    exact: true,\n    path: \"/profile/me\",\n    component: User,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    exact: true,\n    path: \"/edit\",\n    component: EditProfile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }), !auth.isAuthenticated ? /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/edit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }));\n}","map":{"version":3,"names":["React","Route","Switch","Redirect","ReactGA","User","Register","Login","EditProfile","PrivateRoute","useRecoilState","authState","setAuthToken","getUserFromToken","initialize","pageview","window","location","pathname","search","App","auth","setAuth","useEffect","localStorage","getItem","token","user","isAuthenticated","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","exact","path","render","props","Object","assign","component","to"],"sources":["/home/harsh_jaiswal/Desktop/new/client/src/App.js"],"sourcesContent":["import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport ReactGA from 'react-ga';\nimport User from './components/User/User';\nimport Register from './components/Register/Register';\nimport Login from './components/Login/Login';\nimport EditProfile from './components/EditProfile/EditProfile';\nimport PrivateRoute from './PrivateRoute';\n\n// Authentication\nimport { useRecoilState } from 'recoil';\nimport { authState } from './atoms';\nimport setAuthToken from './utils/setAuthToken';\nimport getUserFromToken from './services/getUserFromToken';\n\nReactGA.initialize('UA-172930718-1');\nReactGA.pageview(window.location.pathname + window.location.search);\n\nexport default function App() {\n  const [auth, setAuth] = useRecoilState(authState);\n\n  React.useEffect(() => {\n    if (localStorage.getItem('token')) {\n      // redirection is also handled in register an login\n\n      (async () => {\n        const token = localStorage.getItem('token');\n        setAuthToken(token);\n        const user = auth.user ? auth.user : await getUserFromToken();\n\n        setAuth({\n          ...auth,\n          token,\n          isAuthenticated: true,\n          user,\n        });\n      })();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <Switch>\n      <Route exact path='/user/:id' render={props => <User {...props} />} />\n      <Route exact path='/register' render={props => <Register {...props} />} />\n      <Route exact path='/login' render={props => <Login {...props} />} />\n      <PrivateRoute exact path='/profile/me' component={User} />\n      <PrivateRoute exact path='/edit' component={EditProfile} />\n      {!auth.isAuthenticated ? (\n        <Redirect to='/login' />\n      ) : (\n        <Redirect to='/edit' />\n      )}\n    </Switch>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}